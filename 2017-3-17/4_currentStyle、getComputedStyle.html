<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
<style>
#div{
	width:100px;
	height: 100px;
	background: red;
}
</style>
</head>
<body>
	<div id="div"></div>
<script type="text/javascript">
	
	/*
		getComputedStyle在IE9以下浏览器不兼容
		低版本IE下，使用obj.currentStyle[attr];
		 
	*/
	var div1 = document.getElementById('div');
	
//	console.log(div1.currentStyle.width);
//	console.log(getComputedStyle(div1).width);

	
	
	// var w = getStyle(div1,'width');
	

	/*
		优化：
			改了一段代码，不一定性能就会提高很多
			
			一点一点的去抠，积少成多。
			
			请求，图片，视频，音频.....需要重点优化
			
			优化：
				在保证程序能够正常运行情况下，还要考虑维护成本。不一定代码多就耗性能
		
	 */
	
	
	
	// function getStyle(obj,attr){
	// 	return obj.currentStyle?obj.currentStyle[attr]:getComputedStyle(obj)[attr];
	// }
	
	function getStyle(obj,attr){
		if(obj.currentStyle){
			getStyle = function(){
				return obj.currentStyle[attr];
			}
		}else{
			// console.log(111)
			getStyle = function(){
				return getComputedStyle(obj)[attr];
			}
		}
		return getStyle();
	}
	var w = getStyle(div1,'width');
	
	// setInterval(()=>{
	// 	var w = getStyle(div1,'width');
	// 	console.log( w );
	// },30);
	// console.log(w)
	
	
	
	
	
	function getStyle(obj,attr){
		if(obj.currentStyle){
			return obj.currentStyle[attr];
		}else{
			console.log(111)
			return getComputedStyle(obj)[attr];
		}
	}
	
	
	
	
</script>
</body>
</html>