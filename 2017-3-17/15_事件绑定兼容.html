<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
  <div style="width:50px;height:50px;background:red" id="div"></div>
  <script type="text/javascript">
    /*
      绑定：
      在IE9下使用attachEvent,带on，并且没有捕获，只有冒泡。
      this,默认指向window，那么通过call来改变this的指向。
      解绑:
      detachEvent
      this + 解绑
     */
    function addEvent(obj,events,fn){
      if(obj.addEventListener){
        obj.addEventListener(events,fn);
      }else{
        window[fn] = function(){
          fn.call(obj);
        }
        obj.attachEvent('on'+events,window[fn]);
      }
    }
    
    addEvent(div,'click',fn1);
    
    function fn1(){
      console.log(this.id);
      div.detachEvent('onclick',window[fn1]);
    }
    
    
    
    
    // function fn3(){
    //   function fn1(){
    //     console.log(this.id,event);
    //   }
    //   fn1.call(div);
    // }
    
  
  
  </script>
  </body>
</html>