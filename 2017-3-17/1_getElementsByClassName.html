<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
</head>
<body>
	<ul id="ul">
		<li class="li"></li>
		<li class="li"></li>
		<li class="li"></li>
		<li class="li"></li>
		<li class="li"></li>
		<li class="li"></li>
		<li class="li"></li>
	</ul>
<script type="text/javascript">
	/*
		getElementsByClassName()
		
		IE9以上浏览器才兼容。
	*/
	
	var ul = document.getElementById('ul');
//	var lis = ul.getElementsByClassName('li');
	
	
	/*
		getClass('.li')
		getClass('#ul .li');
		
		先看看是几个参数，如果是一个，看它有没有空格，有就切，切了获取，没有直接走class
		
	*/
	var lis = getClass('.li');
	
	console.log(lis);
	
	function getClass(){
		var parent = document;
		var sClass = null;
		var result = [];
		if(arguments.length === 1){
			var arr = arguments[0].split(' ');
			for(var i=0;i<arr.length;i++){
				if(arr[i] && arr[i].charAt() === '#'){//说明有id
					parent = arr[i].substring(1);
				}else if(arr[i] && arr[i].charAt() === '.'){
					sClass = arr[i].substring(1);
				}
			}
		
			if(parent != document){
				parent = document.getElementById(parent);
			}
			
			var aEle = parent.getElementsByTagName('*');
			
			
			var re = new RegExp('\\b'+sClass+'\\b');
			
			
			//console.log(re.test('li'),sClass,re);
			
			for(var i=0;i<aEle.length;i++){
				if(re.test(aEle[i].className)){
					result.push(aEle[i]);
				}
			}
			return result;
//			console.log(parent,sClass)
		}
	}
	
	
	for(var i=0;i<lis.length;i++){
		lis[i].style.background = 'red';
	}
	
	
	
</script>
</body>
</html>