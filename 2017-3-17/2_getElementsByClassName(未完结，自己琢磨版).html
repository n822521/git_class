<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
</head>
<body>
	<ul>
		<li></li>
	</ul>
	<ul class="ul">
		<li class="li"></li>
		<li class="li"></li>
		<li class="li"></li>
		<li class="li"></li>
		<li class="li"></li>
		<li class="li"></li>
		<li class="li"></li>
	</ul>
	
<script type="text/javascript">
	/*
		getElementsByClassName()
		
		IE9以上浏览器才兼容。
	*/
	
	var ul = document.getElementById('ul');
//	var lis = ul.getElementsByClassName('li');
	
	
	/*
		getClass('.li')
		getClass('#ul .li'); 
		
		先看看是几个参数，如果是一个，看它有没有空格，有就切，切了获取，没有直接走class
		
	*/
	var lis = getClass('#ul .li');
	
	console.log(lis);
	var sClass = null;
	var parent1 = document;
	function getClass(){
		var parent = document;
		var result = [];
		if(arguments.length === 1){
			var arr = arguments[0].match(/[\.#][a-z]+/ig)
//			debugger
			if(arr.length > 1){
				var fuhao = arr[0].charAt();
				if(fuhao === '#'){
					parent = document.getElementById(arr[0].substring(1));			
				}else if(fuhao === '.'){
//					
					sClass = arr[0].substring(1); 
					parent1 = getClass(arr[0])[0];
				}
			}
			
			if(parent != parent1){
				parent = parent1;
			}
			
			var aEle = parent.getElementsByTagName('*'); 
		
			var re = new RegExp('\\b'+sClass+'\\b');
			
			for(var i=0;i<aEle.length;i++){
				if(re.test(aEle[i].className)){
					result.push(aEle[i]);
					console.log(result)
				}
			}
			return result;
		}
	}
	
	
//	for(var i=0;i<lis.length;i++){
//		lis[i].style.background = 'red';
//	}
	
	
	
</script>
</body>
</html>